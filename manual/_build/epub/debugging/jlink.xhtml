<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Segger RTT (Real Time Transfer)</title>
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/epub.css" type="text/css" /> 
  </head><body>

    <div class="document">
      <div class="documentwrapper">
          <div class="body" role="main">
            
  <div class="section" id="segger-rtt-real-time-transfer">
<h1>Segger RTT (Real Time Transfer)</h1>
</div>
<div class="section" id="serial-data-without-a-serial-port">
<h1>Serial data without a serial port</h1>
<p>Pinetime does not have UART pins but UART-like connection can be achieved using RTT (Real Time Transfer)
feature of Segger JLink debugger. RTT data can be accessed using the SEGGER tool (JLinkRTTViewer) or by using
telnet connection to active debug session. Second method is recommended since it gives better throughput
and allows bidirectional communication using Zephyr Shell (with RTT as backend). PuTTY can be used to
telnet to debug session.</p>
<p>Prerequisites:
- JLink debugger, for example one of Nordic Semiconductor Development Kits.
- Setup: <a class="reference external" href="https://wiki.pine64.org/index.php/PineTime#Using_JLink_programmer_and_nrfjprog_tools">https://wiki.pine64.org/index.php/PineTime#Using_JLink_programmer_and_nrfjprog_tools</a></p>
<p>Following steps needs to be taken to run RTT shell in the application:
1. Install PuTTY and Setup RTT session. On Linux, copy <cite>misc/rtt_shell/rtt</cite> to <cite>~/putty/sessions</cite>. On Windows,
execute <cite>misc/rtt_shell/putty-rtt.reg</cite>.
2. Enable logging and shell over RTT:
<code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">CONFIG_LOG=y</span>
<span class="pre">CONFIG_USE_SEGGER_RTT=y</span>
<span class="pre">CONFIG_SHELL=y</span>
<span class="pre">CONFIG_SHELL_BACKEND_RTT=y</span>
<span class="pre">`</span></code></p>
<ol class="arabic simple" start="3">
<li><p>Build and flash application.</p></li>
</ol>
<p>4. Start debug session
<code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">west</span> <span class="pre">debug</span> <span class="pre">(will</span> <span class="pre">start</span> <span class="pre">gdb)</span>
<span class="pre">continue</span> <span class="pre">(in</span> <span class="pre">gdb</span> <span class="pre">console)</span>
<span class="pre">`</span></code>
5. Start PuTTY RTT session, prompt should be printed.</p>
<p>Resources:
- Zephyr shell documentation: <a class="reference external" href="https://docs.zephyrproject.org/latest/reference/shell/index.html">https://docs.zephyrproject.org/latest/reference/shell/index.html</a>
- Zephyr logger documentation: <a class="reference external" href="https://docs.zephyrproject.org/latest/reference/logging/index.html">https://docs.zephyrproject.org/latest/reference/logging/index.html</a></p>
</div>


            <div class="clearer"></div>
          </div>
      </div>
      <div class="clearer"></div>
    </div>
  </body>
</html>